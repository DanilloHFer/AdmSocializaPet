<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo - SocializaPet</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&family=Quicksand:wght@400;500;600;700&family=Fredoka+One&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>

<body>
    <!-- Login Screen -->
    <div class="login-container" id="loginContainer">
        <div class="login-card">
            <div class="login-logo" id="adminLoginLogo">ğŸ¾</div>
            <h2 class="login-title">SocializaPet</h2>
            <p class="login-subtitle">Painel Administrativo</p>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>UsuÃ¡rio</label>
                    <input type="text" id="username" class="form-control" placeholder="Digite seu usuÃ¡rio" required>
                </div>
                <div class="form-group">
                    <label>Senha</label>
                    <input type="password" id="password" class="form-control" placeholder="Digite sua senha" required>
                </div>
                <button type="submit" class="btn-login">Entrar</button>
            </form>
            <div id="errorMessage" class="error-message"></div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-container" id="adminContainer">
        <div class="admin-header">
            <div class="admin-title">
                <div class="logo" id="adminDashboardLogo">ğŸ¾</div>
                <div>
                    <h1>Painel Administrativo</h1>
                    <p style="color: #666;">Bem-vindo(a) de volta!</p>
                </div>
            </div>
            <div class="admin-actions">
                <a href="index.html" class="btn btn-secondary" target="_blank">ğŸ‘ï¸ Ver Site</a>
                <button class="btn btn-primary" onclick="syncWithBlog()">ğŸ”„ Sincronizar Site</button>
                <button class="btn btn-success" onclick="exportData()">ğŸ“¥ Backup Dados</button>
                <button class="btn btn-danger" onclick="logout()">ğŸšª Sair</button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ“</div>
                <div class="stat-number" id="totalPosts">0</div>
                <div class="stat-label">Total de Posts</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ–¼ï¸</div>
                <div class="stat-number" id="totalBanners">0</div>
                <div class="stat-label">Banners Ativos</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ›’</div>
                <div class="stat-number" id="totalProducts">0</div>
                <div class="stat-label">Produtos</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ“¦</div>
                <div class="stat-number" id="totalOrders">0</div>
                <div class="stat-label">Pedidos</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ“¸</div>
                <div class="stat-number" id="totalGallery">0</div>
                <div class="stat-label">Fotos na Galeria</div>
            </div>
        </div>

        <div class="help-section">
            <h3>ğŸ“ Guia de Tamanhos de Imagens</h3>
            <div class="image-guide">
                <div class="guide-item">
                    <strong>ğŸ–¼ï¸ Banners (Home):</strong> Recomendado 1920x600px | MÃ­nimo 1200x400px (ProporÃ§Ã£o 3:1)
                </div>
                <div class="guide-item">
                    <strong>ğŸ“ Posts do Blog:</strong> Recomendado 800x400px | MÃ­nimo 600x300px (ProporÃ§Ã£o 2:1)
                </div>
                <div class="guide-item">
                    <strong>ğŸ›’ Produtos:</strong> Recomendado 400x400px | MÃ­nimo 300x300px (ProporÃ§Ã£o 1:1 Quadrado)
                </div>
                <div class="guide-item">
                    <strong>ğŸ“¸ Galeria:</strong> Recomendado 500x400px | MÃ­nimo 400x320px (ProporÃ§Ã£o 5:4)
                </div>
            </div>
            <p class="guide-note">ğŸ’¡ Dica: Use serviÃ§os como Imgur.com ou Postimages.org para hospedar suas imagens e
                gerar URLs.</p>
        </div>

        <!-- Navigation Tabs -->
        <div class="admin-nav">
            <button class="nav-tab active" onclick="showTab('posts')" id="postsTab">ğŸ“ Posts</button>
            <button class="nav-tab" onclick="showTab('banners')" id="bannersTab">ğŸ–¼ï¸ Banners</button>
            <button class="nav-tab" onclick="showTab('orders')" id="ordersTab">ğŸ“¦ Pedidos</button>
            <button class="nav-tab" onclick="showTab('products')" id="productsTab">ğŸ›’ Produtos</button>
            <button class="nav-tab" onclick="showTab('gallery')" id="galleryTab">ğŸ“¸ Galeria</button>
            <button class="nav-tab" onclick="showTab('content')" id="contentTab">ğŸ“„ ConteÃºdo</button>
            <button class="nav-tab" onclick="showTab('settings')" id="settingsTab">âš™ï¸ ConfiguraÃ§Ãµes</button>
        </div>

        <!-- Posts Management -->
        <div class="tab-content active" id="postsContent">
            <div class="posts-container">
                <div class="posts-header">
                    <h2>Gerenciar Postagens</h2>
                    <div style="display: flex; gap: 1rem;">
                        <input type="text" class="search-box" placeholder="ğŸ” Buscar posts..."
                            onkeyup="filterPosts(this.value)">
                        <button class="btn btn-primary" onclick="openNewPostModal()">â• Nova Postagem</button>
                    </div>
                </div>

                <div class="posts-grid" id="postsGrid">
                    <!-- Posts will be generated here -->
                </div>
            </div>
        </div>

        <!-- Banners Management -->
        <div class="tab-content" id="bannersContent">
            <div class="posts-container">
                <div class="posts-header">
                    <h2>ğŸ–¼ï¸ Gerenciar Banners</h2>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-secondary" onclick="testarBannerForcado()"
                            title="Testar cÃ³digo iframe do Google Drive">ğŸ§ª Testar Iframe</button>
                        <button class="btn btn-primary" onclick="openBannerModal()">â• Novo Banner</button>
                    </div>
                </div>

                <div class="banner-grid" id="bannersGrid">
                    <!-- Banners will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Orders Management -->
        <div class="tab-content" id="ordersContent">
            <div class="orders-container">
                <div class="orders-header">
                    <h2>ğŸ“¦ Gerenciar Pedidos</h2>
                    <div class="orders-stats">
                        <div class="stat-item">
                            <span class="stat-number" id="pendingOrders">0</span>
                            <span class="stat-label">Pendentes</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="completedOrders">0</span>
                            <span class="stat-label">ConcluÃ­dos</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="totalRevenue">R$ 0,00</span>
                            <span class="stat-label">Faturamento</span>
                        </div>
                    </div>
                </div>

                <div class="orders-filters">
                    <select id="statusFilter" onchange="filterOrders()">
                        <option value="all">Todos os Status</option>
                        <option value="pending">Pendente</option>
                        <option value="paid">Pago</option>
                        <option value="shipped">Enviado</option>
                        <option value="delivered">Entregue</option>
                        <option value="cancelled">Cancelado</option>
                    </select>

                    <select id="paymentFilter" onchange="filterOrders()">
                        <option value="all">Todas as Formas</option>
                        <option value="mercadopago">Mercado Pago</option>
                        <option value="pix">PIX</option>
                        <option value="whatsapp">WhatsApp</option>
                    </select>

                    <input type="date" id="dateFilter" onchange="filterOrders()" title="Filtrar por data">

                    <button class="btn btn-primary" onclick="exportOrders()">
                        ğŸ“Š Exportar Pedidos
                    </button>
                </div>

                <div class="orders-grid" id="ordersGrid">
                    <!-- Orders will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Products Management -->
        <div class="tab-content" id="productsContent">
            <div class="posts-container">
                <div class="posts-header">
                    <h2>ğŸ›’ Gerenciar Produtos</h2>
                    <button class="btn btn-primary" onclick="openProductModal()">
                        â• Novo Produto
                    </button>
                </div>

                <div class="product-grid" id="productsGrid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Gallery Management -->
        <div class="tab-content" id="galleryContent">
            <div class="posts-container">
                <div class="posts-header">
                    <h2>ğŸ“¸ Gerenciar Galeria</h2>
                    <button class="btn btn-primary" onclick="openGalleryModal()">
                        â• Nova Imagem
                    </button>
                </div>

                <div class="gallery-grid" id="galleryGrid">
                    <!-- Gallery items will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Content Management -->
        <div class="tab-content" id="contentContent">
            <div class="content-section">
                <h3>ğŸ  PÃ¡gina Principal</h3>
                <div class="form-group">
                    <label>TÃ­tulo Principal</label>
                    <input type="text" class="form-control" id="siteTitle" placeholder="SocializaPet">
                </div>
                <div class="form-group">
                    <label>SubtÃ­tulo</label>
                    <input type="text" class="form-control" id="siteSubtitle"
                        placeholder="Conectando pets e pessoas com amor">
                </div>
                <div class="form-group">
                    <label>DescriÃ§Ã£o Sobre NÃ³s</label>
                    <textarea class="content-editor" id="aboutContent"
                        placeholder="ConteÃºdo da seÃ§Ã£o Sobre NÃ³s..."></textarea>
                </div>
                <button class="btn btn-success" onclick="saveContent('main')">ğŸ’¾ Salvar ConteÃºdo Principal</button>
            </div>

            <div class="content-section">
                <h3>ğŸŒ± Projeto Socializa</h3>
                <div class="form-group">
                    <label>ConteÃºdo do Projeto</label>
                    <textarea class="content-editor" id="projectContent"
                        placeholder="ConteÃºdo da pÃ¡gina do projeto..."></textarea>
                </div>
                <button class="btn btn-success" onclick="saveContent('project')">ğŸ’¾ Salvar Projeto Socializa</button>
            </div>

            <div class="content-section">
                <h3>ğŸ“± InformaÃ§Ãµes de Contato</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>WhatsApp</label>
                        <input type="text" class="form-control" id="whatsappNumber" placeholder="5511999999999">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" class="form-control" id="contactEmail"
                            placeholder="contato@socializapet.com">
                    </div>
                </div>
                <button class="btn btn-success" onclick="saveContent('contact')">ğŸ’¾ Salvar Contato</button>
            </div>
        </div>

        <!-- Settings Management -->
        <div class="tab-content" id="settingsContent">
            <div class="settings-grid">
                <div class="setting-card">
                    <h3>ğŸ¨ Cores do Site</h3>
                    <div class="form-group">
                        <label>Cor Principal (Rosa)</label>
                        <input type="color" class="form-control" id="primaryColor" value="#F28DB2">
                    </div>
                    <div class="form-group">
                        <label>Cor SecundÃ¡ria (Azul)</label>
                        <input type="color" class="form-control" id="secondaryColor" value="#0597F2">
                    </div>
                    <button class="btn btn-success" onclick="saveSettings('colors')">ğŸ’¾ Salvar Cores</button>
                </div>

                <div class="setting-card">
                    <h3>ğŸ“Š EstatÃ­sticas do Site</h3>
                    <div class="form-group">
                        <label>Pets Adotados</label>
                        <input type="number" class="form-control" id="adoptedPets" value="500">
                    </div>
                    <div class="form-group">
                        <label>FamÃ­lias Felizes</label>
                        <input type="number" class="form-control" id="happyFamilies" value="350">
                    </div>
                    <div class="form-group">
                        <label>Parceiros</label>
                        <input type="number" class="form-control" id="partners" value="25">
                    </div>
                    <button class="btn btn-success" onclick="saveSettings('stats')">ğŸ’¾ Salvar EstatÃ­sticas</button>
                </div>

                <div class="setting-card">
                    <h3>ğŸ”§ ConfiguraÃ§Ãµes Gerais</h3>
                    <div class="form-group">
                        <label>Logo URL</label>
                        <input type="url" class="form-control" id="logoUrl" placeholder="socializapet-logo.png">
                    </div>
                    <div class="form-group">
                        <label>Favicon URL</label>
                        <small class="size-hint">ğŸ–¼ï¸ Tamanho recomendado: 64x64px ou 32x32px - Formato: PNG, ICO ou
                            JPG</small>
                        <input type="url" class="form-control" id="faviconUrl"
                            placeholder="Ex: https://i.imgur.com/favicon64x64.png"
                            oninput="updateFaviconPreview(this.value)">
                        <div class="favicon-preview"
                            style="margin-top: 10px; padding: 10px; background: rgba(0,0,0,0.02); border-radius: 6px; border: 1px dashed #ddd; display: flex; align-items: center; gap: 10px;">
                            <img id="faviconPreviewImg" src="" alt="Preview"
                                style="width: 32px; height: 32px; border-radius: 4px; border: 1px solid #ddd; display: none;">
                            <span id="faviconPreviewText" style="font-size: 0.85rem; color: #666;">Nenhum favicon
                                definido</span>
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="saveSettings('general')">ğŸ’¾ Salvar ConfiguraÃ§Ãµes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- New/Edit Post Modal -->
    <div class="modal" id="postModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">âœï¸ Nova Postagem</h2>
                <button class="close-btn" onclick="closePostModal()">âœ•</button>
            </div>

            <form onsubmit="savePost(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label for="postTitle">TÃ­tulo</label>
                        <input type="text" id="postTitle" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="postCategory">Categoria</label>
                        <select id="postCategory" class="form-control" required>
                            <option value="">Selecione uma categoria</option>
                            <option value="Guia de RaÃ§as">ğŸ• Guia de RaÃ§as</option>
                            <option value="Cuidados">ğŸ’Š Cuidados</option>
                            <option value="Treinamento">ğŸ¾ Treinamento</option>
                            <option value="AlimentaÃ§Ã£o">ğŸ– AlimentaÃ§Ã£o</option>
                            <option value="SaÃºde">ğŸ¥ SaÃºde</option>
                            <option value="Comportamento">ğŸ§  Comportamento</option>
                            <option value="AdoÃ§Ã£o">â¤ï¸ AdoÃ§Ã£o</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="postImage">URL da Imagem</label>
                    <small class="size-hint">ğŸ“ Tamanho recomendado: 800x400px (2:1) - MÃ­nimo: 600x300px</small>
                    <input type="url" id="postImage" class="form-control"
                        placeholder="Ex: https://i.imgur.com/abc123.jpg (800x400px)">
                </div>

                <div class="form-group">
                    <label for="postExcerpt">Resumo</label>
                    <textarea id="postExcerpt" class="form-control" placeholder="Breve descriÃ§Ã£o do post..."
                        required></textarea>
                </div>

                <div class="form-group">
                    <label for="postContent">ConteÃºdo Completo</label>
                    <textarea id="postContent" class="form-control" placeholder="ConteÃºdo detalhado do post..." required
                        style="min-height: 200px;"></textarea>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="closePostModal()">
                        âŒ Cancelar
                    </button>
                    <button type="submit" class="btn btn-success">
                        ğŸ’¾ Salvar Post
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Banner Modal -->
    <div class="modal" id="bannerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="bannerModalTitle">ğŸ–¼ï¸ Novo Banner</h2>
                <button class="close-btn" onclick="closeBannerModal()">âœ•</button>
            </div>

            <form onsubmit="saveBanner(event)">
                <div class="form-group">
                    <label for="bannerPage">ğŸ“„ PÃ¡gina do Banner</label>
                    <select id="bannerPage" class="form-control" required>
                        <option value="">Selecione a pÃ¡gina...</option>
                        <option value="home">ğŸ  PÃ¡gina Inicial (Home)</option>
                        <option value="loja">ğŸ›ï¸ Loja</option>
                        <option value="blog">ğŸ“ Blog</option>
                        <option value="todas">ğŸŒŸ Todas as PÃ¡ginas</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="bannerTitle">TÃ­tulo do Banner</label>
                    <input type="text" id="bannerTitle" class="form-control" required>
                </div>

                <div class="form-group">
                    <label for="bannerText">Texto do Banner</label>
                    <textarea id="bannerText" class="form-control"
                        placeholder="Texto que aparece no banner..."></textarea>
                </div>

                <div class="form-group">
                    <label for="bannerImage">Imagem do Banner</label>
                    <small class="size-hint">ğŸ¨ Aceita: URL de imagem OU cÃ³digo iframe do Google Drive</small>
                    <textarea id="bannerImage" class="form-control" required
                        placeholder="Cole aqui:\n1) URL: https://i.imgur.com/abc123.jpg\n2) Iframe: <iframe src=\"
                        https://drive.google.com/file/d/.../preview\" width=\"640\"
                        height=\"480\"></iframe>" rows="3"></textarea>
                    <div class="input-type-detector" id="imageTypeDetector"
                        style="margin-top: 5px; font-size: 0.8em; color: #666;"></div>
                </div>

                <div class="form-group">
                    <label for="bannerLink">Link (opcional)</label>
                    <input type="url" id="bannerLink" class="form-control" placeholder="https://exemplo.com/destino">
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="closeBannerModal()">âŒ Cancelar</button>
                    <button type="submit" class="btn btn-success">ğŸ’¾ Salvar Banner</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="productModalTitle">ğŸ›’ Novo Produto</h2>
                <button class="close-btn" onclick="closeProductModal()">âœ•</button>
            </div>

            <form onsubmit="saveProduct(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label for="productName">Nome do Produto</label>
                        <input type="text" id="productName" class="form-control" required>
                    </div>

                    <div class="form-group">
                        <label for="productPrice">PreÃ§o</label>
                        <input type="text" id="productPrice" class="form-control" required placeholder="R$ 29,90">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="productCategory">Categoria</label>
                        <select id="productCategory" class="form-control" required>
                            <option value="">Selecione uma categoria</option>
                            <option value="RaÃ§Ã£o">ğŸ– RaÃ§Ã£o</option>
                            <option value="Brinquedos">ğŸ¾ Brinquedos</option>
                            <option value="AcessÃ³rios">ğŸ€ AcessÃ³rios</option>
                            <option value="Cuidados">ğŸ’Š Cuidados</option>
                            <option value="Camas">ğŸ›ï¸ Camas</option>
                            <option value="Coleiras">ğŸ¦® Coleiras</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="productImage">URL da Imagem</label>
                        <small class="size-hint">ğŸ›ï¸ Tamanho recomendado: 400x400px (1:1) - MÃ­nimo: 300x300px</small>
                        <input type="url" id="productImage" class="form-control" required
                            placeholder="Ex: https://i.imgur.com/ghi789.jpg (400x400px)">
                    </div>
                </div>

                <div class="form-group">
                    <label for="productDescription">DescriÃ§Ã£o</label>
                    <textarea id="productDescription" class="form-control" required
                        placeholder="DescriÃ§Ã£o detalhada do produto..."></textarea>
                </div>

                <div class="form-group">
                    <label for="productLink">ğŸ”— Link de Compra</label>
                    <small class="size-hint">ğŸ’¡ Link onde o cliente serÃ¡ direcionado ao clicar em "Comprar" (ex: Shopee,
                        Mercado Livre, etc.)</small>
                    <input type="url" id="productLink" class="form-control"
                        placeholder="https://shopee.com.br/produto-exemplo">
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="closeProductModal()">âŒ Cancelar</button>
                    <button type="submit" class="btn btn-success">ğŸ’¾ Salvar Produto</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Gallery Modal -->
    <div class="modal" id="galleryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="galleryModalTitle">ğŸ“¸ Nova Imagem</h2>
                <button class="close-btn" onclick="closeGalleryModal()">âœ•</button>
            </div>

            <form onsubmit="saveGalleryItem(event)">
                <div class="form-group">
                    <label for="galleryTitle">TÃ­tulo da Imagem</label>
                    <input type="text" id="galleryTitle" class="form-control" required>
                </div>

                <div class="form-group">
                    <label for="galleryDescription">DescriÃ§Ã£o</label>
                    <textarea id="galleryDescription" class="form-control"
                        placeholder="DescriÃ§Ã£o da imagem..."></textarea>
                </div>

                <div class="form-group">
                    <label for="galleryImage">URL da Imagem</label>
                    <small class="size-hint">ğŸ“¸ Tamanho recomendado: 500x400px (5:4) - MÃ­nimo: 400x320px</small>
                    <input type="url" id="galleryImage" class="form-control" required
                        placeholder="Ex: https://i.imgur.com/jkl012.jpg (500x400px)">
                </div>

                <div class="form-group">
                    <label for="galleryCategory">Categoria</label>
                    <select id="galleryCategory" class="form-control" required>
                        <option value="">Selecione uma categoria</option>
                        <option value="AdoÃ§Ãµes">â¤ï¸ AdoÃ§Ãµes</option>
                        <option value="Eventos">ğŸ‰ Eventos</option>
                        <option value="Cuidados">ğŸ’Š Cuidados</option>
                        <option value="DiversÃ£o">ğŸ¾ DiversÃ£o</option>
                        <option value="FamÃ­lias">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ FamÃ­lias Felizes</option>
                    </select>
                </div>

                <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" class="btn btn-secondary" onclick="closeGalleryModal()">âŒ Cancelar</button>
                    <button type="submit" class="btn btn-success">ğŸ’¾ Salvar Imagem</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>

</html>
